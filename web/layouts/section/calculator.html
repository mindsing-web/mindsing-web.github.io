<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>{{ .Title }}</title>
    {{ partial "site-style.html" . }}
</head>
<body class="calculator-page">
    <main class="calculator-page__content flex flex-column items-center justify-center min-vh-100">
      {{ .Content }}
    </main>
      {{/* Load base form helpers */}}
      {{ with resources.Get "js/form__helpers.js" }}
        {{ $fh := . }}
        {{ if hugo.IsProduction }}
          {{ $fh = $fh | minify | fingerprint }}
        {{ end }}
          <script src="{{ $fh.RelPermalink }}"></script>
        {{ else }}
          <script src="/assets/js/form__helpers.js"></script>
        {{ end }}

        {{/* Calculator-specific scripts */}}
        {{ if in .File.Path "calculator" }}
          {{/* Load password gate for any calculator page */}}
          {{ with resources.Get "js/password__hide-content.js" }}
          {{ $p := . }}
          {{ if hugo.IsProduction }}
            {{ $p = $p | minify | fingerprint }}
          {{ end }}
            <script src="{{ $p.RelPermalink }}"></script>
          {{ else }}
            <script src="/assets/js/password__hide-content.js"></script>
          {{ end }}

          {{/* DIME calculator specific script only for dime page */}}
          {{ if in .File.Path "calculator/dime" }}
            {{ with resources.Get "js/form__dime-calculator.js" }}
            {{ $d := . }}
            {{ if hugo.IsProduction }}
              {{ $d = $d | minify | fingerprint }}
            {{ end }}
              <script src="{{ $d.RelPermalink }}"></script>
            {{ else }}
              <script src="/assets/js/form__dime-calculator.js"></script>
            {{ end }}
          {{ end }}
        {{ end }}
</body>
</html>
