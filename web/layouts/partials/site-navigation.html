<nav class="pv3 ph3 ph4-ns site-navigation" role="navigation">
  <div class="flex justify-between items-center center">
    <a href="{{ .Site.Home.RelPermalink }}" class="f3 fw2 hover-white no-underline white-90 dib">
      {{ with .Site.Params.site_logo }}
        <img src="{{ . }}" class="w100 mw5-ns site-logo" alt="{{ $.Site.Title }}" />
      {{ else }}
        {{ .Site.Title }}
      {{ end }}
    </a>

    <!-- Hamburger button (hidden on large screens) -->
    <button class="hamburger-button dn-l bg-transparent white-90 bn pa2 pointer" aria-label="Toggle menu" aria-expanded="false">
      <div class="hamburger-icon">
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
        <span class="hamburger-line"></span>
      </div>
    </button>

    <!-- Navigation menu -->
    <div class="navigation-main flex-l items-center dn db-l" id="main-nav">
      {{ partial "i18nlist.html" . }}
      {{ if .Site.Menus.main }}
        <ul class="pl0 mr3 flex-l list">
          {{ range .Site.Menus.main }}
          <li class="f5 f4-ns fw4 dib-l db pr3-l pv2">
            <a class="hover-white no-underline white-90 db" href="{{ .URL }}" title="{{ i18n "pageTitle" . }}">
              {{ .Name }}
            </a>
          </li>
          {{ end }}
        </ul>
      {{ end }}
      {{ partialCached "social-follow.html" . }}
    </div>
  </div>
</nav>

{{/* Load hamburger menu JavaScript */}}
{{ with resources.Get "js/hamburger-menu.js" }}
  {{ $hamburgerJs := . }}
  {{ if hugo.IsProduction }}
    {{ $hamburgerJs = $hamburgerJs | minify | fingerprint }}
  {{ end }}
  <script src="{{ $hamburgerJs.RelPermalink }}"></script>
{{ else }}
  <!-- Fallback if resource isn't found -->
  <script src="/js/hamburger-menu.js"></script>
{{ end }}
