(function(){"use strict";function t(){if(typeof window.Tracking=="undefined"){setTimeout(t,100);return}window.Tracking.contentView("page",n(),{page_title:document.title,page_path:window.location.pathname,page_url:window.location.href}),document.addEventListener("click",function(t){var s,o,i,a,r,c,l,n=t.target.closest('a, button, [role="button"]');if(!n)return;a=n.tagName==="A",r=n.tagName==="BUTTON"||n.getAttribute("role")==="button",a&&n.href&&(s=n.hostname!==window.location.hostname,o=n.href.startsWith("mailto:"),i=n.href.startsWith("tel:"),l=!s&&!o&&!i,c=o?"email":i?"phone":s?"external":"internal",window.Tracking.userAction("link_click",{link_type:c,link_url:n.href,link_text:n.textContent.trim(),page_section:e(n),link_id:n.id||null,link_classes:n.className||null})),r&&window.Tracking.userAction("button_click",{button_type:n.type||"button",button_text:n.textContent.trim(),page_section:e(n),button_id:n.id||null,button_classes:n.className||null,form_id:n.form?n.form.id:null})}),document.addEventListener("submit",function(e){var t=e.target;t.tagName==="FORM"&&!t.classList.contains("calculator--form")&&window.Tracking.formInteraction("contact","submit",{form_id:t.id||"unknown",form_action:t.action||"unknown",form_method:t.method||"get"})}),document.addEventListener("click",function(t){var n=t.target.closest("nav a, .menu a, .navigation a");n&&window.Tracking.userAction("navigation_click",{nav_text:n.textContent.trim(),nav_url:n.href,nav_section:e(n)})}),document.addEventListener("click",function(t){var n=t.target.closest('.btn, .cta, [class*="call-to-action"], [class*="btn-"]');n&&window.Tracking.userAction("cta_click",{cta_text:n.textContent.trim(),cta_type:n.className,cta_url:n.href||null,page_section:e(n),is_primary:n.classList.contains("btn--primary")||n.classList.contains("primary")})});var s,i=[25,50,75,100],o=[];function a(){var e=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);i.forEach(function(t){e>=t&&o.indexOf(t)===-1&&(o.push(t),window.Tracking.userAction("scroll_depth",{scroll_depth:t,page_type:n()}))})}window.addEventListener("scroll",function(){s&&clearTimeout(s),s=setTimeout(a,250)}),console.log("[PageTracking] Enhanced tracking initialized for page type:",n()),console.log("[PageTracking] Now tracking: links, buttons, CTAs, navigation, forms, and scroll depth")}function n(){var e=window.location.pathname;return e==="/"||e===""?"homepage":e.includes("/about")?"about":e.includes("/services")?"services":e.includes("/booking")?"booking":e.includes("/privacy")?"privacy":e.includes("/calculator")?"calculator":"other"}function e(e){var t=e.closest("section, header, footer, nav, main");return t?t.className||t.tagName.toLowerCase():"unknown"}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()})()