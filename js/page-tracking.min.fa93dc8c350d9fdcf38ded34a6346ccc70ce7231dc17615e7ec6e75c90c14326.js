(function(){"use strict";function t(){if(typeof window.Tracking=="undefined"){setTimeout(t,100);return}window.Tracking.contentView("page",n(),{page_title:document.title,page_path:window.location.pathname}),document.addEventListener("click",function(t){var s,o,i,a,r,c,n=t.target.closest('a, button, [role="button"]');if(!n)return;s=n.tagName==="A",o=n.tagName==="BUTTON"||n.getAttribute("role")==="button",s&&n.href&&(i=n.hostname!==window.location.hostname,a=n.href.startsWith("mailto:"),r=n.href.startsWith("tel:"),c=a?"email":r?"phone":i?"external":"internal",window.Tracking.userAction("link_click",{link_type:c,link_url:n.href,page_section:e(n)})),o&&window.Tracking.userAction("button_click",{button_type:n.type||"button",page_section:e(n)})}),document.addEventListener("submit",function(e){var t=e.target;t.tagName==="FORM"&&!t.classList.contains("calculator--form")&&window.Tracking.formInteraction("contact","submit",{form_id:t.id||"unknown"})}),document.addEventListener("click",function(t){var n=t.target.closest("nav a, .menu a, .navigation a");n&&window.Tracking.userAction("navigation_click",{nav_url:n.href,nav_section:e(n)})}),document.addEventListener("click",function(t){var n=t.target.closest('.btn, .cta, [class*="call-to-action"], [class*="btn-"]');n&&window.Tracking.userAction("cta_click",{cta_url:n.href||null,page_section:e(n),is_primary:n.classList.contains("btn--primary")||n.classList.contains("primary")})});var s,i=[25,50,75,100],o=[];function a(){var e=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);i.forEach(function(t){e>=t&&o.indexOf(t)===-1&&(o.push(t),window.Tracking.userAction("scroll_depth",{scroll_depth:t,page_type:n()}))})}window.addEventListener("scroll",function(){s&&clearTimeout(s),s=setTimeout(a,250)}),console.log("[PageTracking] Initialized for page type:",n())}function n(){var e=window.location.pathname;return e==="/"||e===""?"homepage":e.includes("/about")?"about":e.includes("/services")?"services":e.includes("/booking")?"booking":e.includes("/privacy")?"privacy":e.includes("/calculator")?"calculator":"other"}function e(e){var t=e.closest("section, header, footer, nav, main");return t?t.className||t.tagName.toLowerCase():"unknown"}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()})()