const PRIVACY_MODE={EXPLICIT_CONSENT:"explicit",AUTO_ACCEPT:"auto"},currentPrivacyMode=PRIVACY_MODE.AUTO_ACCEPT;document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("privacy-banner"),n=document.getElementById("accept-privacy"),l=document.getElementById("reject-privacy"),s=document.getElementById("acknowledge-privacy");e.classList.add(`privacy-mode-${currentPrivacyMode===PRIVACY_MODE.AUTO_ACCEPT?"auto":"explicit"}`),currentPrivacyMode===PRIVACY_MODE.AUTO_ACCEPT?(n.style.display="none",s.style.display="inline-block"):(n.style.display="inline-block",s.style.display="none"),window.dataLayer=window.dataLayer||[];function o(e){window.dataLayer.push({event:"privacyUpdate",privacyConsent:e})}s.addEventListener("click",function(){e.style.display="none"});const t=localStorage.getItem("privacy-status"),i=localStorage.getItem("privacy-expiry"),d=new Date,a=t==="rejected"&&i&&d>new Date(i);a&&(localStorage.removeItem("privacy-status"),localStorage.removeItem("privacy-expiry"));const u=t==="accepted",h=t==="accepted"||t==="rejected"&&!a;o(u);function r(t=!0){localStorage.setItem("privacy-status","accepted"),localStorage.removeItem("privacy-expiry"),t&&(e.style.display="none"),o(!0)}function c(){h||(currentPrivacyMode===PRIVACY_MODE.AUTO_ACCEPT&&r(!1),e.style.display="block")}document.addEventListener("afterPageLoad",function(){c()});let m=window.dataLayer||[],f=m.some(function(e){return e.event==="afterLoad"});f&&c(),n.addEventListener("click",function(){r(!0)}),l.addEventListener("click",function(){const t=new Date;t.setDate(t.getDate()+28),localStorage.setItem("privacy-status","rejected"),localStorage.setItem("privacy-expiry",t.toISOString()),e.style.display="none",o(!1)})})