document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("privacy-banner"),d=document.getElementById("accept-privacy"),r=document.getElementById("reject-privacy");window.dataLayer=window.dataLayer||[];function n(e){window.dataLayer.push({event:"privacyUpdate",privacyConsent:e})}const e=localStorage.getItem("privacy-status"),i=localStorage.getItem("privacy-expiry"),a=new Date,o=e==="rejected"&&i&&a>new Date(i);o&&(localStorage.removeItem("privacy-status"),localStorage.removeItem("privacy-expiry"));const c=e==="accepted",l=e==="accepted"||e==="rejected"&&!o;n(c);function s(){l||(t.style.display="block")}document.addEventListener("afterPageLoad",function(){s()});let u=window.dataLayer||[],h=u.some(function(e){return e.event==="afterLoad"});h&&s(),d.addEventListener("click",function(){localStorage.setItem("privacy-status","accepted"),localStorage.removeItem("privacy-expiry"),t.style.display="none",n(!0)}),r.addEventListener("click",function(){const e=new Date;e.setDate(e.getDate()+28),localStorage.setItem("privacy-status","rejected"),localStorage.setItem("privacy-expiry",e.toISOString()),t.style.display="none",n(!1)})})